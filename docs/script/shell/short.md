---
title: 基本功能
---

基本功能
========

简而言之，就是基本操作的简单示例。这是我们的第一个脚本：Hello World!

``` bash title="hello.sh"
--8<-- "docs/script/shell/sourcecode/hello.sh"
```

***

变量
----

**直接定义声明**，或通过 `declare` 声明：

- `+/-`: 取消/设置变量的属性
- `-f`: 显示函数体
- `-p`: 显示所有变量
- `-r`: 只读
- `-x`: 设置为环境变量，与 `export` 相同
- `-i`: 整数（integer）

``` bash title="var.sh"
--8<-- "docs/script/shell/sourcecode/var.sh"
```

当前脚本的系统变量：

- `$0`: 脚本名
- `$n`: 第 n 个参数
- `$*`: 所有参数
- `$#`: 所有参数个数
- `$?`: 返回值
- `$$`: 进程 PID

括号类型：

- ` ( ... ) `: 在子 shell 中使用命令
- `(( ... ))`: 数值运算
- ` [ ... ] `: 等价与 `test`，`...` **前后必须保留空格**
- `[[ ... ]]`: `bash` 扩展测试
- ` { ... } `: `...` **前**必须保留空格或换行，`...` **后**必须保留 `;` 或换行

关于判断的使用：

<div class="grid cards" markdown>

-   判断逻辑运算符

    ***
    
    - `&&`: 与
    - `||`: 或
    - `!`: 非
    - `-f`: 判断文件
    - `-d`: 判断目录
    
-   以下只能用于整数判断
    
    ***

    - `-eq`: 等于 
    - `-ne`: 不等于
    - `-lt`: 小于
    - `-gt`: 大于
    - `-le`: 小于等于
    - `-ge`: 大于等于

</div>

!!! info

    传统的 `test` 命令中，不支持 `&&`、`||` 的使用，字符串的比较只能用 `=` 和 `!=`。

    在 **Bash** 扩展测试中，支持 `&&`、`||` 的使用，同时可以用 `=~` 正则匹配字符串。

    进行整数判断的时候，更推荐使用数值运算。
